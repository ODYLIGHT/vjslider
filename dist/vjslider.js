"use strict";function _classCallCheck(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,s){for(var i=0;i<s.length;i++){var l=s[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(s,i,l){return i&&e(s.prototype,i),l&&e(s,l),s}}(),VJSlider=function(){function e(s){if(_classCallCheck(this,e),this.sliderElement=s,this.slides=Array.prototype.slice.call(this.sliderElement.children),this.slidesCount=this.slides.length,0===this.slidesCount)throw new DOMException("Slider does not contain any children (slides)");this.currentSlide=0,this.init()}return _createClass(e,[{key:"init",value:function(){this._build(),this._createSlideClones(2),this.sliderElement.style.width=100*(this.slides.length+4)+"%",this.slide(2)}},{key:"_build",value:function(){var e=this.sliderElement.parentNode,s=document.createElement("div");s.className="vjslider",e.replaceChild(s,this.sliderElement),s.appendChild(this.sliderElement),this.sliderElement.classList.add("vjslider__slider"),this.slides.forEach(function(e){e.classList.add("vjslider__slide")})}},{key:"_createSlideClones",value:function(e){var s=this,i=this.slides.slice(0,e),l=this.slides.slice(-1*e);i=this._fillMissing(i,e,this.slides[0]),l=this._fillMissing(l,e,this.slides[this.slides.length-1]),i.forEach(function(e){var i=e.cloneNode(!0);i.classList.add("vjslider__clone"),s.sliderElement.appendChild(i)}),l.reverse().forEach(function(e){var i=e.cloneNode(!0);i.classList.add("vjslider__clone"),s.sliderElement.insertBefore(i,s.sliderElement.firstChild)})}},{key:"_fillMissing",value:function(e,s,i){for(;e.length<s;)e.push(i);return e}},{key:"slide",value:function(e){this.currentSlide=e,this.sliderElement.classList.add("vjslider__slider--animate"),this.sliderElement.style.transform="translate3d(-"+100*e/(this.slides.length+4)+"%, 0, 0)";var s=this;e>this.slidesCount?setTimeout(function(){s.sliderElement.style.transition="all 0s",s.sliderElement.classList.remove("vjslider__slider--animate"),s.sliderElement.style.transform="translate3d(-"+100/(s.slides.length+4)+"%, 0, 0)",s.currentSlide=1},300):0>=e&&setTimeout(function(){s.sliderElement.style.transition="all 0s",s.sliderElement.classList.remove("vjslider__slider--animate"),s.sliderElement.style.transform="translate3d(-"+100*s.slidesCount/(s.slides.length+4)+"%, 0, 0)",s.currentSlide=s.slidesCount},300)}},{key:"next",value:function(){this.sliderElement.style.transition="all 0.3s",this.slide(this.currentSlide+1)}},{key:"prev",value:function(){this.sliderElement.style.transition="all 0.3s",this.slide(this.currentSlide-1)}}]),e}();